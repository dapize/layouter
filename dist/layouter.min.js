!function(e){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null===e)throw new TypeError("Cannot convert undefined or null to object");let s,r=Object(e);const i=arguments.length;let n;for(s=1;s<i;s++)if(n=arguments[s],null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r},writable:!0,configurable:!0});const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(r){s[r]="width"===t&&e[r].direct?0:e[r][t]})),s},getBpsOrdered:function(e){const t=this.getNums(e,"width"),s=Object.keys(e);return s.map((function(e){return t[e]})).sort((function(e,t){return e-t})).map((function(e){return s.filter((function(s){return t[s]===e}))[0]}))},haveBreakPoint:function(e){return-1!==e.indexOf("@")},getDirectBp:function(e){const t=Object.keys(e).filter((function(t){return e[t].direct}));return!!t.length&&t[0]},prepareParam:function(e,t){let s,r=e,i=!1;const n=this.haveBreakPoint(r);if(n){const e=r.split("@");r=e[0],s=e[1]}else{const e=this.getDirectBp(t);if(!e)return this.regError("without 'direct' breakpoint","Don't exists a breakpoint with 'direct' designation.");s=e}return-1!==e.indexOf("!")&&(i=!0,s=s.replace(/!/g,""),r=r.replace(/!/g,"")),{widthBp:n,numbers:r,breakPoints:s,important:i}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":-1!==e.indexOf(".")?e+"px":"0"===e?e:e+"px",t},debug:function(e){let t,s=e.print||!1;switch(e.type||"l"){case"l":t="log";break;case"e":t="error",s=!0;break;case"w":t="warn";break;case"i":t="info"}if(s){let s=Object.create(null);s.type=t,e.message&&(s.message=e.message),e.data&&(s.data=e.data),console[t](s)}},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,this.debug({type:"e",message:s})},processors:{cols:{set:"setCols",build:"buildCols",ruleCss:"width"},pad:{set:"setPads",build:"buildPads",ruleCss:"padding"},padt:{set:"setPadTop",build:"buildPadTop",ruleCss:"padding-top"},padr:{set:"setPadRight",build:"buildPadRight",ruleCss:"padding-right"},padb:{set:"setPadBottom",build:"buildPadBottom",ruleCss:"padding-bottom"},padl:{set:"setPadLeft",build:"buildPadLeft",ruleCss:"padding-left"},mar:{set:"setMars",build:"buildMars",ruleCss:"margin"},mart:{set:"setMarTop",build:"buildMarTop",ruleCss:"margin-top"},marr:{set:"setMarRight",build:"buildMarRight",ruleCss:"margin-right"},marb:{set:"setMarBottom",build:"buildMarBottom",ruleCss:"margin-bottom"},marl:{set:"setMarLeft",build:"buildMarLeft",ruleCss:"margin-left"},flex:{set:"setFlex",build:"buildFlex",ruleCss:"display: flex"},mw:{set:"setMaxWidth",build:"buildMaxWidth",ruleCss:"max-width"},mh:{set:"setMaxHeight",build:"buildMaxHeight",ruleCss:"max-height"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse",fg:"flex-grow",fh:"flex-shrink",as:"align-self",or:"order",au:"auto",st:"stretch",bl:"baseline",in:"initial",ih:"inherit"},flexAttrsSelf:["fg","fh","or"],createScopeStyles:function(e,t,s,r){let i,n=document.getElementById("layouter-"+t);if(!n){switch(n=document.createElement("style"),n.appendChild(document.createTextNode("")),s){case"before":r.parentNode.insertBefore(n,r);break;case"after":const e=r.parentNode;r.nextSibling?e.insertBefore(n,r.nextSibling):e.appendChild(n);break;case"append":r.appendChild(n)}n.id="layouter-"+t}return this.debug({type:"i",print:e.debug,message:"Bridge layouter created and inserted in the DOM",data:n}),i=e.bridge?{method:n.sheet,node:n}:{method:{insertRule:function(e){n.appendChild(document.createTextNode(e))},rules:[]},node:n},i},createScopesStyles:function(e){const t=this.getBpsOrdered(e.breakPoints),s={},r=this;return t.forEach((function(t){s[t]=r.createScopeStyles(e,t,"append",document.body)})),s},getScopeByclassName:function(e,t){const s=t.breakPoints,r=e.replace(/!/g,""),i=r.indexOf("@");if(-1===i){const e=this.getDirectBp(s);return t.scope[e]}const n=r.substring(i+1);if(-1===n.indexOf("-"))return t.scope[n];const o={bridge:t.bridge,debug:t.debug};if("-"===n.substring(0,1)){if(t.scope.hasOwnProperty(n))return t.scope[n];const e=n.substring(1);return t.scope[n]=this.createScopeStyles(o,n,"before",t.scope[e].node),t.scope[n]}if(t.scope.hasOwnProperty(n))return t.scope[n];const a=n.split("-")[0];return t.scope[n]=this.createScopeStyles(o,n,"after",t.scope[a].node),t.scope[n]},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(e,t,s){const r=this;e.forEach((function(e){t.classList.contains(e)?r.debug({type:"w",print:s.debug,message:"The class name '"+e+"' already exists in the node and will not be added: ",data:t}):t.classList.add(e)})),this.debug({type:"i",print:s.debug,message:"Adding classes to the Node: ",data:{classesNames:e,node:t}})},nameCleaner:function(e){const t=this,s={};return Object.keys(e).forEach((function(r){let i=r;t.replaceList.forEach((function(e){i=i.split(e[0]).join(e[1])})),s[i]=e[r]})),s},createStyles:function(e,t,s){const r=s.sizes,i=s.prefix,n=this.processors[e].ruleCss,o={};let a,d,u,l,p,c,f,g,h=!1;const b=this;return Object.keys(t).forEach((function(s){f=t[s].name,p=i+e+"-"+f,p=p.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),"flex"===e?(c=t[s].value,g=f.split(":")[0],-1===b.flexAttrsSelf.indexOf(g)&&"as"!==g&&(c+=-1!==f.indexOf("!")?";display:flex !important;":";display:flex;")):c=n+":"+t[s].value,a="@media screen and ",-1===s.indexOf("-")?r[s]?a+="(min-width: "+r[s]+"px)":(a="."+p.replace(/!/g,"\\!")+"{"+c+"}",h=!0):(d=s.split("-"),u=d[0],u&&(a+="(min-width: "+r[u]+"px) and "),l=d[1],a+="(max-width: "+(r[l]-1)+"px)"),h||(a+="{."+p.replace(/!/g,"\\!")+"{"+c+"}}"),h=!1,o[p]=a})),this.debug({type:"i",print:s.debug,message:"Creating / Created Styles: ",data:[t,o]}),o},insertRules:function(e,t){const s=this;Object.keys(e).forEach((function(r){if(!t.styles.hasOwnProperty(r)){let i=s.getScopeByclassName(r,t);void 0!==i?(i.method.insertRule(e[r],i.method.rules?i.method.rules.length:0),t.styles[r]=e[r]):s.regError("Dont exists scope","Don't exists a scope valid for '"+r+"'")}})),this.debug({type:"i",print:t.debug,message:"Inserting Styles: ",data:e})},buildCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);return e.deep&&this.insertRules(t,e.instance),this.nameCleaner(t)},settingCss:function(e){const t=this.buildCss(Object.assign({deep:!0},e));this.addClasses(Object.keys(t),e.node,e.instance)},buildPadsMargsMaxs:function(e,t,s,r){if(void 0===e)return this.regError("Parameter Missing","Don't exists a value determined");this.debug({type:"i",print:s.debug,message:"Building the 'pads or margs': "+e});const i=this,n={};let o,a,d,u;return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){o=i.prepareParam(e,s.breakPoints),a=o.numbers,u=o.breakPoints,d=a.split("-").map((function(e){return i.processedNumber(e)})).join(" "),o.important&&(d+=" !important"),n.hasOwnProperty(u)?n[u].value+=";"+d:n[u]={name:e,value:d}})),this.buildCss({type:t,bps:n,instance:s,deep:void 0===r||r})},setPadsMargsMaxs:function(e,t,s,r){if(!e)return this.regError("Non-existent Node","Don't exists the Node for processing.");this.debug({type:"i",print:r.debug,message:"Processing the '"+t+"' to the Node:",data:e});const i=s||r.getParameters(e);if(!i.hasOwnProperty(t))return this.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const n=this.buildPadsMargsMaxs(i[t],t,r);this.addClasses(Object.keys(n),e,r),e.removeAttribute(t)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=s,this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopesStyles(Object.assign({bridge:!0},e)),this.styles={},this.debug=e.debug||!1}"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t),s.version="1.10.0RC",s.prototype.set=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Starting the 'set' of the Node:",data:e});const s=this.getParameters(e),r=Object.keys(s);if(!r.length)return t.regError("Parameter Missing","don't exists any parameter to process");const i={};for(let e in s)i[e]=s[e].join(" ");const n=this.build(i),o=Object.keys(n).map((function(e){return Object.keys(n[e]).join(" ")})).join(" ");e.className=e.className?e.className+" "+o:o,r.forEach((function(t){setTimeout((function(t){e.removeAttribute(t)}),0,t)}))},s.prototype.build=function(e){if(!Node)return t.regError("Non-existent Object","Don't exists the object for processing.");t.debug({type:"i",print:this.debug,message:"Starting building the attributes:",data:e});const s={},r=this;let i;return Object.keys(e).forEach((function(n){i=t.processors[n],i&&(s[n]=r[i.build](e[n]))})),!!Object.keys(s).length&&s},s.prototype.getParameters=function(e){const s={},r=e.attributes,i=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==i.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.trim().split(" "))})),t.debug({type:"i",print:this.debug,message:"Getting / Getted parameters of the Node:",data:{parameters:s,node:e}}),s},s.prototype.reset=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");if(!e.className)return t.debug({type:"i",print:this.debug,message:"The Node passed haven't any CSS class",data:e}),classesList;let s,r;const i=Object.keys(t.processors),n=[],o=e.className.split(" ").filter((function(e){if(e.length<4)return n.push(e),!1;s=e.length>=5?5:4,r=e.substring(0,s);let t=r.split("").indexOf("-");return-1===t?(n.push(e),!1):(r=r.substring(0,t),-1!==i.indexOf(r)||(n.push(e),!1))}));return n.length?e.className=n.join(" "):e.removeAttribute("class"),o},s.prototype.buildCols=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'cols' determined");t.debug({type:"i",print:this.debug,message:"Building the 'cols': "+e});const r=this;let i,n,o,a,d,u={};const l=this.breakPoints;return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){o=e,d=t.prepareParam(e,l),n=d.breakPoints,-1!==(e=d.numbers).indexOf("/")?i=e.split("/"):d.widthBp?-1===n.indexOf("-")?i=[e,r.cols[n]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):i=[e,r.cols.xs],a=t.calPercentage(i[0],i[1]),d.important&&(a+=" !important"),u[n]={name:o,value:a}})),t.buildCss({type:"cols",bps:u,instance:this,deep:void 0===s||s})},s.prototype.setCols=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'cols' to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");const i=this.buildCols(r.cols);t.addClasses(Object.keys(i),e,this),e.removeAttribute("cols")},s.prototype.buildPads=function(e,s){return t.buildPadsMargsMaxs(e,"pad",this,s)},s.prototype.setPads=function(e,s){t.setPadsMargsMaxs(e,"pad",s,this)},s.prototype.buildPadTop=function(e,s){return t.buildPadsMargsMaxs(e,"padt",this,s)},s.prototype.setPadTop=function(e,s){t.setPadsMargsMaxs(e,"padt",s,this)},s.prototype.buildPadRight=function(e,s){return t.buildPadsMargsMaxs(e,"padr",this,s)},s.prototype.setPadRight=function(e,s){t.setPadsMargsMaxs(e,"padr",s,this)},s.prototype.buildPadBottom=function(e,s){return t.buildPadsMargsMaxs(e,"padb",this,s)},s.prototype.setPadBottom=function(e,s){t.setPadsMargsMaxs(e,"padb",s,this)},s.prototype.buildPadLeft=function(e,s){return t.buildPadsMargsMaxs(e,"padl",this,s)},s.prototype.setPadLeft=function(e,s){t.setPadsMargsMaxs(e,"padl",s,this)},s.prototype.buildMars=function(e,s){return t.buildPadsMargsMaxs(e,"mar",this,s)},s.prototype.setMars=function(e,s){t.setPadsMargsMaxs(e,"mar",s,this)},s.prototype.buildMarTop=function(e,s){return t.buildPadsMargsMaxs(e,"mart",this,s)},s.prototype.setMarTop=function(e,s){t.setPadsMargsMaxs(e,"mart",s,this)},s.prototype.buildMarRight=function(e,s){return t.buildPadsMargsMaxs(e,"marr",this,s)},s.prototype.setMarRight=function(e,s){t.setPadsMargsMaxs(e,"marr",s,this)},s.prototype.buildMarBottom=function(e,s){return t.buildPadsMargsMaxs(e,"marb",this,s)},s.prototype.setMarBottom=function(e,s){t.setPadsMargsMaxs(e,"marb",s,this)},s.prototype.buildMarLeft=function(e,s){return t.buildPadsMargsMaxs(e,"marl",this,s)},s.prototype.setMarLeft=function(e,s){t.setPadsMargsMaxs(e,"marl",s,this)},s.prototype.buildFlex=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'flex' determined");t.debug({type:"i",print:this.debug,message:"Building the 'flex': "+e});let r,i,n,o,a,d,u,l={};Array.isArray(e)||(e=e.split(" "));const p=this.breakPoints;return e.forEach((function(e){if(i=e,n=t.prepareParam(e,p),r=n.breakPoints,e=n.numbers,o=e.split(":"),d=o[0],u=o[1],-1===t.flexAttrsSelf.indexOf(d)){if(!t.flexpv.hasOwnProperty(d))return t.regError("Non-existent Alias","Don't exists the alias '"+d+"' in Flex vault.");if(!t.flexpv.hasOwnProperty(u))return t.regError("Non-existent Alias","Don't exists the alias '"+u+"' in Flex vault.");a=t.flexpv[d]+":"+t.flexpv[u]}else a=t.flexpv[d]+":"+u;n.important&&(a+=" !important"),l.hasOwnProperty(r)?(1!==i.indexOf("@")&&(i=i.split("@")[0]),l[r].name=l[r].name.split("@")[0]+"-"+i+"@"+r,l[r].value+=";"+a):l[r]={name:i,value:a}})),t.buildCss({type:"flex",bps:l,instance:this,deep:void 0===s||s})},s.prototype.setFlex=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'flex' parameter to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");const i=this.buildFlex(r.flex);t.addClasses(Object.keys(i),e,this),e.removeAttribute("flex")},s.prototype.buildMaxWidth=function(e,s){return t.buildPadsMargsMaxs(e,"mw",this,s)},s.prototype.setMaxWidth=function(e,s){t.setPadsMargsMaxs(e,"mw",s,this)},s.prototype.buildMaxHeight=function(e,s){return t.buildPadsMargsMaxs(e,"mh",this,s)},s.prototype.setMaxHeight=function(e,s){t.setPadsMargsMaxs(e,"mh",s,this)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=s),exports.Layouter=s):e.Layouter=s}(this);
//# sourceMappingURL=layouter.min.js.map
