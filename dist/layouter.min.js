!function(e){"use strict";const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(n){s[n]="width"===t&&e[n].direct?0:e[n][t]})),s},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const s=this.haveBreakPoint(e);if(s){const s=e.split("@");e=s[0],t=s[1]}else t="xs";return{widthBp:s,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t=e+"px",t},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,console.error(s),s},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",c:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cr:"column-reverse"},createStyles:function(e,s,n){const r=n.sizes,o=n.prefix,i=t.processors[e].ruleCss,a={};let c,l,u,p,f,d,m=!1;return Object.keys(s).forEach((function(t,n){f=o+e+"-"+s[t].name,f=f.replace(/\//g,"\\/").replace(/:/g,"\\:"),-1!==i.indexOf(":")?(d=s[t].value,n||(a[o+e+"-"+e]="."+o+e+"-"+e+"{"+i+"}")):d=i+":"+s[t].value,c="@media screen and ",-1===t.indexOf("-")?r[t]?c+="(min-width: "+r[t]+"px)":(c="."+f+"{"+d+"}",m=!0):(l=t.split("-"),u=l[0],u&&(c+="(min-width: "+r[u]+"px) and "),p=l[1],c+="(max-width: "+(r[p]-1)+"px)"),m||(c+="{."+f.replace("@","\\@")+"{"+d+"}}"),m=!1,a[f]=c})),a},createScopeStyles:function(){const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.body.appendChild(e),e.id="scope-layouter",e.sheet},insertRules:function(e,t){const s=t.scope,n=t.prefix;Object.keys(e).forEach((function(r){t.styles.hasOwnProperty(n+r)||(s.insertRule(e[r],s.rules.length),t.styles[n+r]=e[r])}))},adClasses:function(e,t){e.forEach((function(e){t.classList.add(e.replace("/","").replace("\\","/").replace("/:",":").replace("\\:",":"))}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.adClasses(Object.keys(t),e.node)},padsAndMargs:function(e,s,n){const r=n.getParameters(e),o=this;if(!r.hasOwnProperty(s))return console.log("Don't exists "+s+"dings determined");const i={};let a,c,l,u;r[s].forEach((function(e){a=t.prepareParam(e),c=a.numbers,u=a.breakPoints,l=c.split("-").map((function(e){return o.processedNumber(e)})).join(" "),i.hasOwnProperty(u)?i[u].value+=";"+l:i[u]={name:e,value:l}})),this.settingCss({type:s,bps:i,instance:n,node:e}),e.removeAttribute(s)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return console.log("Â¡configuration missing!");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=Object.keys(s),this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopeStyles(),this.styles={}}const n=s.prototype;n.getParameters=function(e){const s={},n=e.attributes,r=Object.keys(t.processors);return Array.prototype.forEach.call(n,(function(e){-1!==r.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.split(" "))})),s},n.setCols=function(e){const s=this,n=this.getParameters(e);if(!n.hasOwnProperty("cols"))return console.log("Don't exists columns determined");let r,o,i,a,c,l={};n.cols.forEach((function(e){i=e,c=t.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?r=e.split("/"):c.widthBp?-1===o.indexOf("-")?r=[e,s.cols[o]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):r=[e,s.cols.xs],a=t.calPercentage(r[0],r[1]),l[o]={name:i,value:a}})),t.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},n.setPads=function(e){t.padsAndMargs(e,"pad",this)},n.setMars=function(e){t.padsAndMargs(e,"mar",this)},n.setFlex=function(e){const s=this.getParameters(e);if(!s.hasOwnProperty("flex"))return console.log("Don't exists flex determinated.");let n,r,o,i,a,c={};s.flex.forEach((function(e){r=e,o=t.prepareParam(e),n=o.breakPoints,e=o.numbers,i=e.split(":"),a=t.flexpv[i[0]]+":"+t.flexpv[i[1]],c.hasOwnProperty(n)?(1!==r.indexOf("@")&&(r=r.split("@")[0]),c[n].name=c[n].name.split("@")[0]+"-"+r+"@"+n,c[n].value+=";"+a):c[n]={name:r,value:a}})),t.settingCss({type:"flex",bps:c,instance:this,node:e}),e.removeAttribute("flex")},n.all=function(e){const s=this.getParameters(e),n=Object.keys(s),r=this;n.length?n.forEach((function(s){r[t.processors[s].method](e)})):console.log("don't exists any parameter for processor")},"object"==typeof module&&module.exports?module.exports=s:e.Layouter=s}(this);