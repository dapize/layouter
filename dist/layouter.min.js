!function(e){"use strict";const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(r){s[r]="width"===t&&e[r].direct?0:e[r][t]})),s},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const s=this.haveBreakPoint(e);if(s){const s=e.split("@");e=s[0],t=s[1]}else t="xs";return{widthBp:s,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":-1!==e.indexOf(".")?e+"px":"0"===e?e:e+"px",t},debug:function(e){let t,s=e.print||!1;switch(e.type||"l"){case"l":t="log";break;case"e":t="error",s=!0;break;case"w":t="warn";break;case"i":t="info"}if(s){let s=Object.create(null);s.type=t,e.message&&(s.message=e.message),e.data&&(s.data=e.data),console[t](s)}},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,this.debug({type:"e",message:s})},processors:{cols:{set:"setCols",build:"buildCols",ruleCss:"width"},pad:{set:"setPads",build:"buildPads",ruleCss:"padding"},padt:{set:"setPadTop",build:"buildPadTop",ruleCss:"padding-top"},padr:{set:"setPadRight",build:"buildPadRight",ruleCss:"padding-right"},padb:{set:"setPadBottom",build:"buildPadBottom",ruleCss:"padding-bottom"},padl:{set:"setPadLeft",build:"buildPadLeft",ruleCss:"padding-left"},mar:{set:"setMars",build:"buildMars",ruleCss:"margin"},mart:{set:"setMarTop",build:"buildMarTop",ruleCss:"margin-top"},marr:{set:"setMarRight",build:"buildMarRight",ruleCss:"margin-right"},marb:{set:"setMarBottom",build:"buildMarBottom",ruleCss:"margin-bottom"},marl:{set:"setMarLeft",build:"buildMarLeft",ruleCss:"margin-left"},flex:{set:"setFlex",build:"buildFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,t,s){const r=s.sizes,i=s.prefix,n=this.processors[e].ruleCss,a={};let o,d,u,p,l,c,g=!1;return Object.keys(t).forEach((function(s){l=i+e+"-"+t[s].name,l=l.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),c="flex"===e?t[s].value+";display: flex;":n+":"+t[s].value,o="@media screen and ",-1===s.indexOf("-")?r[s]?o+="(min-width: "+r[s]+"px)":(o="."+l+"{"+c+"}",g=!0):(d=s.split("-"),u=d[0],u&&(o+="(min-width: "+r[u]+"px) and "),p=d[1],o+="(max-width: "+(r[p]-1)+"px)"),g||(o+="{."+l+"{"+c+"}}"),g=!1,a[l]=o})),this.debug({type:"i",print:s.debug,message:"Creating / Created Styles: ",data:[t,a]}),a},createScopeStyles:function(e){let t=document.getElementById("layouter");return null===t&&(t=document.createElement("style"),t.appendChild(document.createTextNode("")),document.body.appendChild(t),t.id="layouter"),this.debug({type:"i",print:e.debug,message:"Bridge layouter created and inserted in the DOM",data:t}),e.bridge?t.sheet:{insertRule:function(e){t.innerHTML+="\n"+e},rules:[]}},insertRules:function(e,t){const s=t.scope,r=t.prefix;Object.keys(e).forEach((function(i){t.styles.hasOwnProperty(r+i)||(s.insertRule(e[i],s.rules?s.rules.length:0),t.styles[r+i]=e[i])})),this.debug({type:"i",print:t.debug,message:"Inserting Styles: ",data:e})},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(e,t,s){e.forEach((function(e){t.classList.contains(e)?this.debug({type:"w",print:s.debug,message:"The class name '"+e+"' already exists in the node and will not be added: ",data:t}):t.classList.add(e)})),this.debug({type:"i",print:s.debug,message:"Adding classes to the Node: ",data:{classesNames:e,node:t}})},nameCleaner:function(e){const t=this,s={};return Object.keys(e).forEach((function(r){let i=r;t.replaceList.forEach((function(e){i=i.split(e[0]).join(e[1])})),s[i]=e[r]})),s},buildCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);return e.deep&&this.insertRules(t,e.instance),this.nameCleaner(t)},settingCss:function(e){const t=this.buildCss(Object.assign({deep:!0},e));this.addClasses(Object.keys(t),e.node,e.instance)},buildPadsAndMargs:function(e,t,s,r){if(void 0===e)return this.regError("Parameter Missing","Don't exists a value determined");this.debug({type:"i",print:s.debug,message:"Building the 'pads or margs': "+e});const i=this,n={};let a,o,d,u;return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){a=i.prepareParam(e),o=a.numbers,u=a.breakPoints,d=o.split("-").map((function(e){return i.processedNumber(e)})).join(" "),n.hasOwnProperty(u)?n[u].value+=";"+d:n[u]={name:e,value:d}})),this.buildCss({type:t,bps:n,instance:s,deep:void 0===r||r})},padsAndMargs:function(e,t,s,r){if(!e)return this.regError("Non-existent Node","Don't exists the Node for processing.");this.debug({type:"i",print:r.debug,message:"Processing the '"+t+"' to the Node:",data:e});const i=s||r.getParameters(e);if(!i.hasOwnProperty(t))return this.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const n=this.buildPadsAndMargs(i[t],t,r);this.addClasses(Object.keys(n),e,r),e.removeAttribute(t)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=Object.keys(s),this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopeStyles(Object.assign({bridge:!0},e)),this.styles={},this.debug=e.debug||!1}"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t),s.version="1.6.1Beta",s.prototype.set=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Starting the 'set' of the Node:",data:e});const s=this.getParameters(e),r=Object.keys(s),i=this;r.length?r.forEach((function(r){i[t.processors[r].set](e,s)})):t.regError("Parameter Missing","don't exists any parameter to process")},s.prototype.build=function(e){if(!Node)return t.regError("Non-existent Object","Don't exists the object for processing.");t.debug({type:"i",print:this.debug,message:"Starting building the attributes:",data:e});const s={},r=this;let i;return Object.keys(e).forEach((function(n){i=t.processors[n],i&&(s[n]=r[i.build](e[n]))})),!!Object.keys(s).length&&s},s.prototype.getParameters=function(e){const s={},r=e.attributes,i=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==i.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.trim().split(" "))})),t.debug({type:"i",print:this.debug,message:"Getting / Getted parameters of the Node:",data:{parameters:s,node:e}}),s},s.prototype.buildCols=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'cols' determined");t.debug({type:"i",print:this.debug,message:"Building the 'cols': "+e});const r=this;let i,n,a,o,d,u={};return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){a=e,d=t.prepareParam(e),n=d.breakPoints,-1!==(e=d.numbers).indexOf("/")?i=e.split("/"):d.widthBp?-1===n.indexOf("-")?i=[e,r.cols[n]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):i=[e,r.cols.xs],o=t.calPercentage(i[0],i[1]),u[n]={name:a,value:o}})),t.buildCss({type:"cols",bps:u,instance:this,deep:void 0===s||s})},s.prototype.setCols=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'cols' to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");const i=this.buildCols(r.cols);t.addClasses(Object.keys(i),e,this),e.removeAttribute("cols")},s.prototype.buildPads=function(e,s){return t.buildPadsAndMargs(e,"pad",this,s)},s.prototype.setPads=function(e,s){t.padsAndMargs(e,"pad",s,this)},s.prototype.buildPadTop=function(e,s){return t.buildPadsAndMargs(e,"padt",this,s)},s.prototype.setPadTop=function(e,s){t.padsAndMargs(e,"padt",s,this)},s.prototype.buildPadRight=function(e,s){return t.buildPadsAndMargs(e,"padr",this,s)},s.prototype.setPadRight=function(e,s){t.padsAndMargs(e,"padr",s,this)},s.prototype.buildPadBottom=function(e,s){return t.buildPadsAndMargs(e,"padb",this,s)},s.prototype.setPadBottom=function(e,s){t.padsAndMargs(e,"padb",s,this)},s.prototype.buildPadLeft=function(e,s){return t.buildPadsAndMargs(e,"padl",this,s)},s.prototype.setPadLeft=function(e,s){t.padsAndMargs(e,"padl",s,this)},s.prototype.buildMars=function(e,s){return t.buildPadsAndMargs(e,"mar",this,s)},s.prototype.setMars=function(e,s){t.padsAndMargs(e,"mar",s,this)},s.prototype.buildMarTop=function(e,s){return t.buildPadsAndMargs(e,"mart",this,s)},s.prototype.setMarTop=function(e,s){t.padsAndMargs(e,"mart",s,this)},s.prototype.buildMarRight=function(e,s){return t.buildPadsAndMargs(e,"marr",this,s)},s.prototype.setMarRight=function(e,s){t.padsAndMargs(e,"marr",s,this)},s.prototype.buildMarBottom=function(e,s){return t.buildPadsAndMargs(e,"marb",this,s)},s.prototype.setMarBottom=function(e,s){t.padsAndMargs(e,"marb",s,this)},s.prototype.buildMarLeft=function(e,s){return t.buildPadsAndMargs(e,"marl",this,s)},s.prototype.setMarLeft=function(e,s){t.padsAndMargs(e,"marl",s,this)},s.prototype.buildFlex=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'flex' determined");t.debug({type:"i",print:this.debug,message:"Building the 'flex': "+e});let r,i,n,a,o,d,u,p={};return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){return i=e,n=t.prepareParam(e),r=n.breakPoints,e=n.numbers,a=e.split(":"),d=a[0],t.flexpv.hasOwnProperty(d)?(u=a[1],t.flexpv.hasOwnProperty(u)?(o=t.flexpv[d]+":"+t.flexpv[a[1]],void(p.hasOwnProperty(r)?(1!==i.indexOf("@")&&(i=i.split("@")[0]),p[r].name=p[r].name.split("@")[0]+"-"+i+"@"+r,p[r].value+=";"+o):p[r]={name:i,value:o})):t.regError("Non-existent Alias","Don't exists the alias '"+u+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+d+"' in Flex vault.")})),t.buildCss({type:"flex",bps:p,instance:this,deep:void 0===s||s})},s.prototype.setFlex=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'flex' parameter to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");const i=this.buildFlex(r.flex);t.addClasses(Object.keys(i),e,this),e.removeAttribute("flex")},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=s),exports.Layouter=s):e.Layouter=s}(this);
//# sourceMappingURL=layouter.min.js.map
