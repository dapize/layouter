!function(e){"use strict";const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(r){s[r]="width"===t&&e[r].direct?0:e[r][t]})),s},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const s=this.haveBreakPoint(e);if(s){const s=e.split("@");e=s[0],t=s[1]}else t="xs";return{widthBp:s,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":-1!==e.indexOf(".")?e:"0"===e?e:e+"px",t},debug:function(e){let t,s=e.print||!1;switch(e.type||"l"){case"l":t="log";break;case"e":t="error",s=!0;break;case"w":t="warn";break;case"i":t="info"}if(s){let s=Object.create(null);s.type=t,e.message&&(s.message=e.message),e.data&&(s.data=e.data),console[t](s)}},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,this.debug({type:"e",message:s})},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,t,s){const r=s.sizes,n=s.prefix,i=this.processors[e].ruleCss,o={};let a,d,c,u,p,l,f=!1;return Object.keys(t).forEach((function(s){p=n+e+"-"+t[s].name,p=p.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),l="flex"===e?t[s].value+";display: flex;":i+":"+t[s].value,a="@media screen and ",-1===s.indexOf("-")?r[s]?a+="(min-width: "+r[s]+"px)":(a="."+p+"{"+l+"}",f=!0):(d=s.split("-"),c=d[0],c&&(a+="(min-width: "+r[c]+"px) and "),u=d[1],a+="(max-width: "+(r[u]-1)+"px)"),f||(a+="{."+p+"{"+l+"}}"),f=!1,o[p]=a})),this.debug({type:"i",print:s.debug,message:"Creating / Created Styles: ",data:[t,o]}),o},createScopeStyles:function(e){let t=document.getElementById("layouter");return null===t&&(t=document.createElement("style"),t.appendChild(document.createTextNode("")),document.body.appendChild(t),t.id="layouter"),this.debug({type:"i",print:e.debug,message:"Bridge layouter created and inserted in the DOM",data:t}),e.bridge?t.sheet:{insertRule:function(e){t.innerHTML+="\n"+e},rules:[]}},insertRules:function(e,t){const s=t.scope,r=t.prefix;Object.keys(e).forEach((function(n){t.styles.hasOwnProperty(r+n)||(s.insertRule(e[n],s.rules?s.rules.length:0),t.styles[r+n]=e[n])})),this.debug({type:"i",print:t.debug,message:"Inserting Styles: ",data:e})},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(e,t,s){const r=this;e.forEach((function(e){r.replaceList.forEach((function(t){e=e.split(t[0]).join(t[1])})),t.classList.contains(e)?this.debug({type:"w",print:s.debug,message:"The class name '"+e+"' already exists in the node and will not be added: ",data:t}):t.classList.add(e)})),this.debug({type:"i",print:s.debug,message:"Adding classes to the Node: ",data:{classesNames:e,node:t}})},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.addClasses(Object.keys(t),e.node,e.instance)},padsAndMargs:function(e,t,s,r){if(!e)return this.regError("Non-existent Node","Don't exists the Node for processing.");this.debug({type:"i",print:r.debug,message:"Processing the '"+t+"' to the Node:",data:e});const n=s||r.getParameters(e),i=this;if(!n.hasOwnProperty(t))return this.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const o={};let a,d,c,u;n[t].forEach((function(e){a=i.prepareParam(e),d=a.numbers,u=a.breakPoints,c=d.split("-").map((function(e){return i.processedNumber(e)})).join(" "),o.hasOwnProperty(u)?o[u].value+=";"+c:o[u]={name:e,value:c}})),this.settingCss({type:t,bps:o,instance:r,node:e}),e.removeAttribute(t)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=Object.keys(s),this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopeStyles(Object.assign({bridge:!0},e)),this.styles={},this.debug=e.debug||!1}"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t),s.version="1.3.3Beta",s.prototype.getParameters=function(e){const s={},r=e.attributes,n=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==n.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.trim().split(" "))})),t.debug({type:"i",print:this.debug,message:"Getting / Getted parameters of the Node:",data:{parameters:s,node:e}}),s},s.prototype.setCols=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'cols' to the Node:",data:e});const r=this,n=s||this.getParameters(e);if(!n.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");let i,o,a,d,c,u={};n.cols.forEach((function(e){a=e,c=t.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?i=e.split("/"):c.widthBp?-1===o.indexOf("-")?i=[e,r.cols[o]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):i=[e,r.cols.xs],d=t.calPercentage(i[0],i[1]),u[o]={name:a,value:d}})),t.settingCss({type:"cols",bps:u,instance:this,node:e}),e.removeAttribute("cols")},s.prototype.setPads=function(e,s){t.padsAndMargs(e,"pad",s,this)},s.prototype.setMars=function(e,s){t.padsAndMargs(e,"mar",s,this)},s.prototype.setFlex=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'flex' parameter to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");let n,i,o,a,d,c,u,p={};r.flex.forEach((function(e){return i=e,o=t.prepareParam(e),n=o.breakPoints,e=o.numbers,a=e.split(":"),c=a[0],t.flexpv.hasOwnProperty(c)?(u=a[1],t.flexpv.hasOwnProperty(u)?(d=t.flexpv[c]+":"+t.flexpv[a[1]],void(p.hasOwnProperty(n)?(1!==i.indexOf("@")&&(i=i.split("@")[0]),p[n].name=p[n].name.split("@")[0]+"-"+i+"@"+n,p[n].value+=";"+d):p[n]={name:i,value:d})):t.regError("Non-existent Alias","Don't exists the alias '"+u+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+c+"' in Flex vault.")})),t.settingCss({type:"flex",bps:p,instance:this,node:e}),e.removeAttribute("flex")},s.prototype.build=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Starting the build of the Node:",data:e});const s=this.getParameters(e),r=Object.keys(s),n=this;r.length?r.forEach((function(r){n[t.processors[r].method](e,s)})):t.regError("Parameter Missing","don't exists any parameter to process")},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=s),exports.Layouter=s):e.Layouter=s}(this);
//# sourceMappingURL=layouter.min.js.map
