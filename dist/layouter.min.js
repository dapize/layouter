!function(e){"use strict";const t={getNums:function(e,t){const r={};return Object.keys(e).forEach((function(s){r[s]="width"===t&&e[s].direct?0:e[s][t]})),r},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const r=this.haveBreakPoint(e);if(r){const r=e.split("@");e=r[0],t=r[1]}else t="xs";return{widthBp:r,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":e+"px",t},regError:function(e,t){const r=new Error;return r.name=e,r.message=t,console.error(r),r},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,r,s){const n=s.sizes,o=s.prefix,i=t.processors[e].ruleCss,a={};let c,l,u,p,f,d,h=!1;return Object.keys(r).forEach((function(t,s){f=o+e+"-"+r[t].name,f=f.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@"),-1!==i.indexOf(":")?(d=r[t].value,s||(a[o+e+"-"+e]="."+o+e+"-"+e+"{"+i+"}")):d=i+":"+r[t].value,c="@media screen and ",-1===t.indexOf("-")?n[t]?c+="(min-width: "+n[t]+"px)":(c="."+f+"{"+d+"}",h=!0):(l=t.split("-"),u=l[0],u&&(c+="(min-width: "+n[u]+"px) and "),p=l[1],c+="(max-width: "+(n[p]-1)+"px)"),h||(c+="{."+f+"{"+d+"}}"),h=!1,a[f]=c})),a},createScopeStyles:function(){const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.body.appendChild(e),e.id="layouter",e.sheet},insertRules:function(e,t){const r=t.scope,s=t.prefix;Object.keys(e).forEach((function(n){t.styles.hasOwnProperty(s+n)||(r.insertRule(e[n],r.rules.length),t.styles[s+n]=e[n])}))},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],adClasses:function(e,t){const r=this;e.forEach((function(e){r.replaceList.forEach((function(t){e=e.replace(t[0],t[1])})),t.classList.add(e)}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.adClasses(Object.keys(t),e.node)},padsAndMargs:function(e,r,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const n=s.getParameters(e),o=this;if(!n.hasOwnProperty(r))return t.regError("Parameter Missing","Don't exists the param '"+r+"' determined");const i={};let a,c,l,u;n[r].forEach((function(e){a=t.prepareParam(e),c=a.numbers,u=a.breakPoints,l=c.split("-").map((function(e){return o.processedNumber(e)})).join(" "),i.hasOwnProperty(u)?i[u].value+=";"+l:i[u]={name:e,value:l}})),this.settingCss({type:r,bps:i,instance:s,node:e}),e.removeAttribute(r)}};function r(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const r=e.breakPoints;this.breakPoints=Object.keys(r),this.sizes=t.getNums(r,"width"),this.cols=t.getNums(r,"cols"),this.scope=t.createScopeStyles(),this.styles={}}const s=r.prototype;r.version="1.0Beta",s.getParameters=function(e){const r={},s=e.attributes,n=Object.keys(t.processors);return Array.prototype.forEach.call(s,(function(e){-1!==n.indexOf(e.name)&&""!==e.value&&(r[e.name]=e.value.split(" "))})),r},s.setCols=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this,s=this.getParameters(e);if(!s.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");let n,o,i,a,c,l={};s.cols.forEach((function(e){i=e,c=t.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?n=e.split("/"):c.widthBp?-1===o.indexOf("-")?n=[e,r.cols[o]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):n=[e,r.cols.xs],a=t.calPercentage(n[0],n[1]),l[o]={name:i,value:a}})),t.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},s.setPads=function(e){t.padsAndMargs(e,"pad",this)},s.setMars=function(e){t.padsAndMargs(e,"mar",this)},s.setFlex=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");let s,n,o,i,a,c,l,u={};r.flex.forEach((function(e){return n=e,o=t.prepareParam(e),s=o.breakPoints,e=o.numbers,i=e.split(":"),c=i[0],t.flexpv.hasOwnProperty(c)?(l=i[1],t.flexpv.hasOwnProperty(l)?(a=t.flexpv[c]+":"+t.flexpv[i[1]],void(u.hasOwnProperty(s)?(1!==n.indexOf("@")&&(n=n.split("@")[0]),u[s].name=u[s].name.split("@")[0]+"-"+n+"@"+s,u[s].value+=";"+a):u[s]={name:n,value:a})):t.regError("Non-existent Alias","Don't exists the alias '"+l+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+c+"' in Flex vault.")})),t.settingCss({type:"flex",bps:u,instance:this,node:e}),e.removeAttribute("flex")},s.build=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this.getParameters(e),s=Object.keys(r),n=this;s.length?s.forEach((function(r){n[t.processors[r].method](e)})):t.regError("Parameter Missing","don't exists any parameter to process")},"object"==typeof module&&module.exports?module.exports=r:e.Layouter=r}(this);