!function(e){"use strict";const t={getNums:function(e,t){const r={};return Object.keys(e).forEach((function(s){r[s]="width"===t&&e[s].direct?0:e[s][t]})),r},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const r=this.haveBreakPoint(e);if(r){const r=e.split("@");e=r[0],t=r[1]}else t="xs";return{widthBp:r,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":-1!==e.indexOf(".")?e:e+"px",t},regError:function(e,t){const r=new Error;return r.name=e,r.message=t,console.error(r),r},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,t,r){const s=r.sizes,n=r.prefix,o=this.processors[e].ruleCss,i={};let a,c,l,p,u,f,d=!1;return Object.keys(t).forEach((function(r,h){u=n+e+"-"+t[r].name,u=u.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),f="flex"===e?t[r].value+";display: flex;":o+":"+t[r].value,a="@media screen and ",-1===r.indexOf("-")?s[r]?a+="(min-width: "+s[r]+"px)":(a="."+u+"{"+f+"}",d=!0):(c=r.split("-"),l=c[0],l&&(a+="(min-width: "+s[l]+"px) and "),p=c[1],a+="(max-width: "+(s[p]-1)+"px)"),d||(a+="{."+u+"{"+f+"}}"),d=!1,i[u]=a})),i},createScopeStyles:function(){const e=document.createElement("style");return document.body.appendChild(e),e.id="layouter",e.sheet},insertRules:function(e,t){const r=t.scope,s=t.prefix;Object.keys(e).forEach((function(n){t.styles.hasOwnProperty(s+n)||(r.insertRule(e[n],r.rules.length),t.styles[s+n]=e[n])}))},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(e,t){const r=this;e.forEach((function(e){r.replaceList.forEach((function(t){e=e.split(t[0]).join(t[1])})),t.classList.add(e)}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.addClasses(Object.keys(t),e.node)},padsAndMargs:function(e,t,r){if(!e)return this.regError("Non-existent Node","Don't exists the Node for processing.");const s=r.getParameters(e),n=this;if(!s.hasOwnProperty(t))return this.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const o={};let i,a,c,l;s[t].forEach((function(e){i=n.prepareParam(e),a=i.numbers,l=i.breakPoints,c=a.split("-").map((function(e){return n.processedNumber(e)})).join(" "),o.hasOwnProperty(l)?o[l].value+=";"+c:o[l]={name:e,value:c}})),this.settingCss({type:t,bps:o,instance:r,node:e}),e.removeAttribute(t)}};function r(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const r=e.breakPoints;this.breakPoints=Object.keys(r),this.sizes=t.getNums(r,"width"),this.cols=t.getNums(r,"cols"),this.scope=t.createScopeStyles(),this.styles={}}r.version="1.1.2Beta",r.prototype.getParameters=function(e){const r={},s=e.attributes,n=Object.keys(t.processors);return Array.prototype.forEach.call(s,(function(e){-1!==n.indexOf(e.name)&&""!==e.value&&(r[e.name]=e.value.trim().split(" "))})),r},r.prototype.setCols=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this,s=this.getParameters(e);if(!s.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");let n,o,i,a,c,l={};s.cols.forEach((function(e){i=e,c=t.prepareParam(e),o=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?n=e.split("/"):c.widthBp?-1===o.indexOf("-")?n=[e,r.cols[o]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):n=[e,r.cols.xs],a=t.calPercentage(n[0],n[1]),l[o]={name:i,value:a}})),t.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},r.prototype.setPads=function(e){t.padsAndMargs(e,"pad",this)},r.prototype.setMars=function(e){t.padsAndMargs(e,"mar",this)},r.prototype.setFlex=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");let s,n,o,i,a,c,l,p={};r.flex.forEach((function(e){return n=e,o=t.prepareParam(e),s=o.breakPoints,e=o.numbers,i=e.split(":"),c=i[0],t.flexpv.hasOwnProperty(c)?(l=i[1],t.flexpv.hasOwnProperty(l)?(a=t.flexpv[c]+":"+t.flexpv[i[1]],void(p.hasOwnProperty(s)?(1!==n.indexOf("@")&&(n=n.split("@")[0]),p[s].name=p[s].name.split("@")[0]+"-"+n+"@"+s,p[s].value+=";"+a):p[s]={name:n,value:a})):t.regError("Non-existent Alias","Don't exists the alias '"+l+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+c+"' in Flex vault.")})),t.settingCss({type:"flex",bps:p,instance:this,node:e}),e.removeAttribute("flex")},r.prototype.build=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");const r=this.getParameters(e),s=Object.keys(r),n=this;s.length?s.forEach((function(r){n[t.processors[r].method](e)})):t.regError("Parameter Missing","don't exists any parameter to process")},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=r),exports.Layouter=r):e.Layouter=r}(this);
//# sourceMappingURL=layouter.min.js.map
