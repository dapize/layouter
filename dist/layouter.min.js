!function(e){"use strict";const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(r){s[r]="width"===t&&e[r].direct?0:e[r][t]})),s},haveBreakPoint:function(e){return-1!==e.indexOf("@")},prepareParam:function(e){let t;const s=this.haveBreakPoint(e);if(s){const s=e.split("@");e=s[0],t=s[1]}else t="xs";return{widthBp:s,numbers:e,breakPoints:t}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t=e+"px",t},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,console.error(s),s},processors:{cols:{method:"setCols",ruleCss:"width"},pad:{method:"setPads",ruleCss:"padding"},mar:{method:"setMars",ruleCss:"margin"},flex:{method:"setFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",c:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cr:"column-reverse"},createStyles:function(e,s,r){const n=r.sizes,i=r.prefix,o=t.processors[e].ruleCss,a={};let c,l,u,p,f,d,m=!1;return Object.keys(s).forEach((function(t,r){f=i+e+"-"+s[t].name,f=f.replace(/\//g,"\\/").replace(/:/g,"\\:"),-1!==o.indexOf(":")?(d=s[t].value,r||(a[i+e+"-"+e]="."+i+e+"-"+e+"{"+o+"}")):d=o+":"+s[t].value,c="@media screen and ",-1===t.indexOf("-")?n[t]?c+="(min-width: "+n[t]+"px)":(c="."+f+"{"+d+"}",m=!0):(l=t.split("-"),u=l[0],u&&(c+="(min-width: "+n[u]+"px) and "),p=l[1],c+="(max-width: "+(n[p]-1)+"px)"),m||(c+="{."+f.replace("@","\\@")+"{"+d+"}}"),m=!1,a[f]=c})),a},createScopeStyles:function(){const e=document.createElement("style");return e.appendChild(document.createTextNode("")),document.body.appendChild(e),e.id="scope-layouter",e.sheet},insertRules:function(e,t){const s=t.scope,r=t.prefix;Object.keys(e).forEach((function(n){t.styles.hasOwnProperty(r+n)||(s.insertRule(e[n],s.rules.length),t.styles[r+n]=e[n])}))},adClasses:function(e,t){e.forEach((function(e){t.classList.add(e.replace("/","").replace("\\","/").replace("/:",":").replace("\\:",":"))}))},settingCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);this.insertRules(t,e.instance),this.adClasses(Object.keys(t),e.node)},padsAndMargs:function(e,s,r){const n=r.getParameters(e),i=this;if(!n.hasOwnProperty(s))return t.regError("Parameter Missing","Don't exists the param '"+s+"' determined");const o={};let a,c,l,u;n[s].forEach((function(e){a=t.prepareParam(e),c=a.numbers,u=a.breakPoints,l=c.split("-").map((function(e){return i.processedNumber(e)})).join(" "),o.hasOwnProperty(u)?o[u].value+=";"+l:o[u]={name:e,value:l}})),this.settingCss({type:s,bps:o,instance:r,node:e}),e.removeAttribute(s)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=Object.keys(s),this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopeStyles(),this.styles={}}const r=s.prototype;s.version="1.0Beta",r.getParameters=function(e){const s={},r=e.attributes,n=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==n.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.split(" "))})),s},r.setCols=function(e){const s=this,r=this.getParameters(e);if(!r.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");let n,i,o,a,c,l={};r.cols.forEach((function(e){o=e,c=t.prepareParam(e),i=c.breakPoints,-1!==(e=c.numbers).indexOf("/")?n=e.split("/"):c.widthBp?-1===i.indexOf("-")?n=[e,s.cols[i]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):n=[e,s.cols.xs],a=t.calPercentage(n[0],n[1]),l[i]={name:o,value:a}})),t.settingCss({type:"cols",bps:l,instance:this,node:e}),e.removeAttribute("cols")},r.setPads=function(e){t.padsAndMargs(e,"pad",this)},r.setMars=function(e){t.padsAndMargs(e,"mar",this)},r.setFlex=function(e){const s=this.getParameters(e);if(!s.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");let r,n,i,o,a,c={};s.flex.forEach((function(e){n=e,i=t.prepareParam(e),r=i.breakPoints,e=i.numbers,o=e.split(":"),a=t.flexpv[o[0]]+":"+t.flexpv[o[1]],c.hasOwnProperty(r)?(1!==n.indexOf("@")&&(n=n.split("@")[0]),c[r].name=c[r].name.split("@")[0]+"-"+n+"@"+r,c[r].value+=";"+a):c[r]={name:n,value:a}})),t.settingCss({type:"flex",bps:c,instance:this,node:e}),e.removeAttribute("flex")},r.build=function(e){const s=this.getParameters(e),r=Object.keys(s),n=this;r.length?r.forEach((function(s){n[t.processors[s].method](e)})):t.regError("Parameter Missing","don't exists any parameter to process")},"object"==typeof module&&module.exports?module.exports=s:e.Layouter=s}(this);