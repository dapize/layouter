!function(t){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null===t)throw new TypeError("Cannot convert undefined or null to object");let r,s=Object(t);const i=arguments.length;let n;for(r=1;r<i;r++)if(n=arguments[r],null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[o]=n[o]);return s},writable:!0,configurable:!0});const e={getNums:function(t,e){const r={};return Object.keys(t).forEach((function(s){r[s]="width"===e&&t[s].direct?0:t[s][e]})),r},getBpsOrdered:function(t){const e=this.getNums(t,"width"),r=Object.keys(t);return r.map((function(t){return e[t]})).sort((function(t,e){return t-e})).map((function(t){return r.filter((function(r){return e[r]===t}))[0]}))},haveBreakPoint:function(t){return-1!==t.indexOf("@")},getDirectBp:function(t){const e=Object.keys(t).filter((function(e){return t[e].direct}));return!!e.length&&e[0]},prepareParam:function(t,e){let r,s=t,i=!1;const n=this.haveBreakPoint(s);if(n){const t=s.split("@");s=t[0],r=t[1]}else{const t=this.getDirectBp(e);if(!t)return this.regError("without 'direct' breakpoint","Don't exists a breakpoint with 'direct' designation.");r=t}return-1!==t.indexOf("!")&&(i=!0,r=r.replace(/!/g,""),s=s.replace(/!/g,"")),{widthBp:n,numbers:s,breakPoints:r,important:i}},stringToNumber:function(t){return"string"==typeof t?parseFloat(t):t},calPercentage:function(t,e){return 100*t/e+"%"},relativeMeasures:["%","rem","em","ex","vw","vh"],processedNumber:function(t){let e;if(-1!==t.indexOf("/"))e=t.split("/"),e=this.calPercentage(this.stringToNumber(e[0]),this.stringToNumber(e[1]));else if("auto"===t)e="auto";else{e=this.relativeMeasures.filter((function(e){return-1!==t.indexOf(e)})).length?t:"0"===t?t:t+"px"}return e},debug:function(t){let e,r=t.print||!1;switch(t.type||"l"){case"l":e="log";break;case"e":e="error",r=!0;break;case"w":e="warn";break;case"i":e="info"}if(r){let r=Object.create(null);r.type=e,t.message&&(r.message=t.message),t.data&&(r.data=t.data),console[e](r)}},regError:function(t,e){const r=new Error;return r.name=t,r.message=e,this.debug({type:"e",message:r})},processors:{cols:{set:"setCols",build:"buildCols",ruleCss:"width"},pad:{set:"setPads",build:"buildPads",ruleCss:"padding"},padt:{set:"setPadTop",build:"buildPadTop",ruleCss:"padding-top"},padr:{set:"setPadRight",build:"buildPadRight",ruleCss:"padding-right"},padb:{set:"setPadBottom",build:"buildPadBottom",ruleCss:"padding-bottom"},padl:{set:"setPadLeft",build:"buildPadLeft",ruleCss:"padding-left"},mar:{set:"setMars",build:"buildMars",ruleCss:"margin"},mart:{set:"setMarTop",build:"buildMarTop",ruleCss:"margin-top"},marr:{set:"setMarRight",build:"buildMarRight",ruleCss:"margin-right"},marb:{set:"setMarBottom",build:"buildMarBottom",ruleCss:"margin-bottom"},marl:{set:"setMarLeft",build:"buildMarLeft",ruleCss:"margin-left"},flex:{set:"setFlex",build:"buildFlex",ruleCss:"display: flex"},mxw:{set:"setMaxWidth",build:"buildMaxWidth",ruleCss:"max-width"},mxh:{set:"setMaxHeight",build:"buildMaxHeight",ruleCss:"max-height"},miw:{set:"setMinWidth",build:"buildMinWidth",ruleCss:"min-width"},mih:{set:"setMinHeight",build:"buildMinHeight",ruleCss:"min-height"},wdh:{set:"setWidth",build:"buildWidth",ruleCss:"width"},hgt:{set:"setHeight",build:"buildHeight",ruleCss:"height"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse",fg:"flex-grow",fh:"flex-shrink",as:"align-self",or:"order",au:"auto",st:"stretch",bl:"baseline",in:"initial",ih:"inherit"},flexAttrsSelf:["fg","fh","or"],createScopeStyles:function(t,e,r,s){let i,n=document.getElementById("layouter-"+e);if(!n){switch(n=document.createElement("style"),n.appendChild(document.createTextNode("")),r){case"before":s.parentNode.insertBefore(n,s);break;case"after":const t=s.parentNode;s.nextSibling?t.insertBefore(n,s.nextSibling):t.appendChild(n);break;case"append":s.appendChild(n)}n.id="layouter-"+e}return this.debug({type:"i",print:t.debug,message:"Bridge layouter created and inserted in the DOM",data:n}),i=t.bridge?{method:n.sheet,node:n}:{method:{insertRule:function(t){n.appendChild(document.createTextNode(t))},rules:[]},node:n},i},createScopesStyles:function(t){const e=this.getBpsOrdered(t.breakPoints),r={},s=this;return e.forEach((function(e){r[e]=s.createScopeStyles(t,e,"append",document.body)})),r},getScopeByclassName:function(t,e){const r=e.breakPoints,s=t.replace(/!/g,""),i=s.indexOf("@");if(-1===i){const t=this.getDirectBp(r);return e.scope[t]}const n=s.substring(i+1);if(-1===n.indexOf("-"))return e.scope[n];const o={bridge:e.bridge,debug:e.debug};if("-"===n.substring(0,1)){if(e.scope.hasOwnProperty(n))return e.scope[n];const t=n.substring(1);return e.scope[n]=this.createScopeStyles(o,n,"before",e.scope[t].node),e.scope[n]}if(e.scope.hasOwnProperty(n))return e.scope[n];const a=n.split("-")[0];return e.scope[n]=this.createScopeStyles(o,n,"after",e.scope[a].node),e.scope[n]},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(t,e,r){const s=this;t.forEach((function(t){e.classList.contains(t)?s.debug({type:"w",print:r.debug,message:"The class name '"+t+"' already exists in the node and will not be added: ",data:e}):e.classList.add(t)})),this.debug({type:"i",print:r.debug,message:"Adding classes to the Node: ",data:{classesNames:t,node:e}})},nameCleaner:function(t){const e=this,r={};return Object.keys(t).forEach((function(s){let i=s;e.replaceList.forEach((function(t){i=i.split(t[0]).join(t[1])})),r[i]=t[s]})),r},percentageConverter:function(t){return"0¯"+t.replace("%","")},createStyles:function(t,e,r){const s=r.sizes,i=r.prefix,n=this.processors[t].ruleCss,o={};let a,u,d,l,p,c,h,f,b=!1;const g=this;return Object.keys(e).forEach((function(r){h=e[r].name,p=h,-1!==h.indexOf("%")&&(p=h.replace(h,g.percentageConverter(h))),p=i+t+"-"+p.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),"flex"===t?(c=e[r].value,f=["as"].concat(g.flexAttrsSelf).filter((function(t){return-1!==h.indexOf(t+":")})),f.length?f.length+1!==h.split(":").length&&(c+=-1!==h.indexOf("!")?";display:flex !important;":";display:flex;"):c+=-1!==h.indexOf("!")?";display:flex !important;":";display:flex;"):c=n+":"+e[r].value,a="@media screen and ",-1===r.indexOf("-")?s[r]?a+="(min-width: "+s[r]+"px)":(a="."+p.replace(/!/g,"\\!")+"{"+c+"}",b=!0):(u=r.split("-"),d=u[0],d&&(a+="(min-width: "+s[d]+"px) and "),l=u[1],a+="(max-width: "+(s[l]-1)+"px)"),b||(a+="{."+p.replace(/!/g,"\\!")+"{"+c+"}}"),b=!1,o[p]=a})),this.debug({type:"i",print:r.debug,message:"Creating / Created Styles: ",data:[e,o]}),o},insertRules:function(t,e){const r=this;Object.keys(t).forEach((function(s){if(!e.styles.hasOwnProperty(s)){let i=r.getScopeByclassName(s,e);void 0!==i?(i.method.insertRule(t[s],i.method.rules?i.method.rules.length:0),e.styles[s]=t[s]):r.regError("Dont exists scope","Don't exists a scope valid for '"+s+"'")}})),this.debug({type:"i",print:e.debug,message:"Inserting Styles: ",data:t})},buildCss:function(t){const e=this.createStyles(t.type,t.bps,t.instance);return t.deep&&this.insertRules(e,t.instance),this.nameCleaner(e)},settingCss:function(t){const e=this.buildCss(Object.assign({deep:!0},t));this.addClasses(Object.keys(e),t.node,t.instance)},buildAttr:function(t,e,r,s){if(void 0===t)return this.regError("Parameter Missing","Don't exists a value determined");this.debug({type:"i",print:r.debug,message:"Building the 'pads or margs': "+t});const i=this,n={};let o,a,u,d;return Array.isArray(t)||(t=t.split(" ")),t.forEach((function(t){o=i.prepareParam(t,r.breakPoints),a=o.numbers,d=o.breakPoints,u=a.split("-").map((function(t){return i.processedNumber(t)})).join(" "),o.important&&(u+=" !important"),n.hasOwnProperty(d)?n[d].value+=";"+u:n[d]={name:t,value:u}})),this.buildCss({type:e,bps:n,instance:r,deep:void 0===s||s})},setAttr:function(t,e,r,s){if(!t)return this.regError("Non-existent Node","Don't exists the Node for processing.");this.debug({type:"i",print:s.debug,message:"Processing the '"+e+"' to the Node:",data:t});const i=r||s.getParameters(t);if(!i.hasOwnProperty(e))return this.regError("Parameter Missing","Don't exists the param '"+e+"' determined");const n=this.buildAttr(i[e],e,s);this.addClasses(Object.keys(n),t,s),t.removeAttribute(e)}};function r(t){if(!t.hasOwnProperty("breakPoints"))return e.regError("Configuration Missing","¡configuration missing! :V");this.prefix=t.prefix?t.prefix+"-":"";const r=t.breakPoints;this.breakPoints=r,this.sizes=e.getNums(r,"width"),this.cols=e.getNums(r,"cols"),this.scope=e.createScopesStyles(Object.assign({bridge:!0},t)),this.styles={},this.debug=t.debug||!1}"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=e),r.version="1.13.0RC",r.prototype.set=function(t){if(!t)return e.regError("Non-existent Node","Don't exists the Node for processing.");e.debug({type:"i",print:this.debug,message:"Starting the 'set' of the Node:",data:t});const r=this.getParameters(t),s=Object.keys(r);if(!s.length)return e.regError("Parameter Missing","don't exists any parameter to process");const i={};for(let t in r)i[t]=r[t].join(" ");const n=this.build(i),o=Object.keys(n).map((function(t){return Object.keys(n[t]).join(" ")})).join(" ");t.className=t.className?t.className+" "+o:o,s.forEach((function(e){setTimeout((function(e){t.removeAttribute(e)}),0,e)}))},r.prototype.build=function(t){if(!Node)return e.regError("Non-existent Object","Don't exists the object for processing.");e.debug({type:"i",print:this.debug,message:"Starting building the attributes:",data:t});const r={},s=this;let i;return Object.keys(t).forEach((function(n){i=e.processors[n],i&&(r[n]=s[i.build](t[n]))})),!!Object.keys(r).length&&r},r.prototype.getParameters=function(t){const r={},s=t.attributes,i=Object.keys(e.processors);return Array.prototype.forEach.call(s,(function(t){-1!==i.indexOf(t.name)&&""!==t.value&&(r[t.name]=t.value.trim().split(" "))})),e.debug({type:"i",print:this.debug,message:"Getting / Getted parameters of the Node:",data:{parameters:r,node:t}}),r},r.prototype.reset=function(t){if(!t)return e.regError("Non-existent Node","Don't exists the Node for processing.");if(!t.className)return e.debug({type:"i",print:this.debug,message:"The Node passed haven't any CSS class",data:t}),classesList;let r,s;const i=Object.keys(e.processors),n=[],o=t.className.split(" ").filter((function(t){if(t.length<4)return n.push(t),!1;r=t.length>=5?5:4,s=t.substring(0,r);let e=s.split("").indexOf("-");return-1===e?(n.push(t),!1):(s=s.substring(0,e),-1!==i.indexOf(s)||(n.push(t),!1))}));return n.length?t.className=n.join(" "):t.removeAttribute("class"),o},r.prototype.buildCols=function(t,r){if(void 0===t)return e.regError("Parameter Missing","Don't exists 'cols' determined");e.debug({type:"i",print:this.debug,message:"Building the 'cols': "+t});const s=this;let i,n,o,a,u,d={};const l=this.breakPoints;return Array.isArray(t)||(t=t.split(" ")),t.forEach((function(t){o=t,u=e.prepareParam(t,l),n=u.breakPoints,-1!==(t=u.numbers).indexOf("/")?i=t.split("/"):u.widthBp?-1===n.indexOf("-")?i=[t,s.cols[n]]:e.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):i=[t,s.cols.xs],a=e.calPercentage(i[0],i[1]),u.important&&(a+=" !important"),d[n]={name:o,value:a}})),e.buildCss({type:"cols",bps:d,instance:this,deep:void 0===r||r})},r.prototype.setCols=function(t,r){if(!t)return e.regError("Non-existent Node","Don't exists the Node for processing.");e.debug({type:"i",print:this.debug,message:"Processing the 'cols' to the Node:",data:t});const s=r||this.getParameters(t);if(!s.hasOwnProperty("cols"))return e.regError("Parameter Missing","Don't exists 'cols' determined");const i=this.buildCols(s.cols);e.addClasses(Object.keys(i),t,this),t.removeAttribute("cols")},r.prototype.buildPads=function(t,r){return e.buildAttr(t,"pad",this,r)},r.prototype.setPads=function(t,r){e.setAttr(t,"pad",r,this)},r.prototype.buildPadTop=function(t,r){return e.buildAttr(t,"padt",this,r)},r.prototype.setPadTop=function(t,r){e.setAttr(t,"padt",r,this)},r.prototype.buildPadRight=function(t,r){return e.buildAttr(t,"padr",this,r)},r.prototype.setPadRight=function(t,r){e.setAttr(t,"padr",r,this)},r.prototype.buildPadBottom=function(t,r){return e.buildAttr(t,"padb",this,r)},r.prototype.setPadBottom=function(t,r){e.setAttr(t,"padb",r,this)},r.prototype.buildPadLeft=function(t,r){return e.buildAttr(t,"padl",this,r)},r.prototype.setPadLeft=function(t,r){e.setAttr(t,"padl",r,this)},r.prototype.buildMars=function(t,r){return e.buildAttr(t,"mar",this,r)},r.prototype.setMars=function(t,r){e.setAttr(t,"mar",r,this)},r.prototype.buildMarTop=function(t,r){return e.buildAttr(t,"mart",this,r)},r.prototype.setMarTop=function(t,r){e.setAttr(t,"mart",r,this)},r.prototype.buildMarRight=function(t,r){return e.buildAttr(t,"marr",this,r)},r.prototype.setMarRight=function(t,r){e.setAttr(t,"marr",r,this)},r.prototype.buildMarBottom=function(t,r){return e.buildAttr(t,"marb",this,r)},r.prototype.setMarBottom=function(t,r){e.setAttr(t,"marb",r,this)},r.prototype.buildMarLeft=function(t,r){return e.buildAttr(t,"marl",this,r)},r.prototype.setMarLeft=function(t,r){e.setAttr(t,"marl",r,this)},r.prototype.buildFlex=function(t,r){if(void 0===t)return e.regError("Parameter Missing","Don't exists 'flex' determined");e.debug({type:"i",print:this.debug,message:"Building the 'flex': "+t});let s,i,n,o,a,u,d,l={};Array.isArray(t)||(t=t.split(" "));const p=this.breakPoints;return t.forEach((function(t){if(i=t,n=e.prepareParam(t,p),s=n.breakPoints,t=n.numbers,o=t.split(":"),u=o[0],d=o[1],-1===e.flexAttrsSelf.indexOf(u)){if(!e.flexpv.hasOwnProperty(u))return e.regError("Non-existent Alias","Don't exists the alias '"+u+"' in Flex vault.");if(!e.flexpv.hasOwnProperty(d))return e.regError("Non-existent Alias","Don't exists the alias '"+d+"' in Flex vault.");a=e.flexpv[u]+":"+e.flexpv[d]}else a=e.flexpv[u]+":"+d;n.important&&(a+=" !important"),l.hasOwnProperty(s)?(1!==i.indexOf("@")&&(i=i.split("@")[0]),l[s].name=l[s].name.split("@")[0]+"-"+i+"@"+s,l[s].value+=";"+a):l[s]={name:i,value:a}})),e.buildCss({type:"flex",bps:l,instance:this,deep:void 0===r||r})},r.prototype.setFlex=function(t,r){if(!t)return e.regError("Non-existent Node","Don't exists the Node for processing.");e.debug({type:"i",print:this.debug,message:"Processing the 'flex' parameter to the Node:",data:t});const s=r||this.getParameters(t);if(!s.hasOwnProperty("flex"))return e.regError("Parameter Missing","Don't exists 'flex' determinated.");const i=this.buildFlex(s.flex);e.addClasses(Object.keys(i),t,this),t.removeAttribute("flex")},r.prototype.buildMaxWidth=function(t,r){return e.buildAttr(t,"mxw",this,r)},r.prototype.setMaxWidth=function(t,r){e.setAttr(t,"mxw",r,this)},r.prototype.buildMaxHeight=function(t,r){return e.buildAttr(t,"mxh",this,r)},r.prototype.setMaxHeight=function(t,r){e.setAttr(t,"mxh",r,this)},r.prototype.buildMinWidth=function(t,r){return e.buildAttr(t,"miw",this,r)},r.prototype.setMinWidth=function(t,r){e.setAttr(t,"miw",r,this)},r.prototype.buildMinHeight=function(t,r){return e.buildAttr(t,"mih",this,r)},r.prototype.setMinHeight=function(t,r){e.setAttr(t,"mih",r,this)},r.prototype.buildHeight=function(t,r){return e.buildAttr(t,"hgt",this,r)},r.prototype.setHeight=function(t,r){e.setAttr(t,"hgt",r,this)},r.prototype.buildWidth=function(t,r){return e.buildAttr(t,"wdh",this,r)},r.prototype.setWidth=function(t,r){e.setAttr(t,"wdh",r,this)},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=r),exports.Layouter=r):t.Layouter=r}(this);
//# sourceMappingURL=layouter.min.js.map
