!function(e){"use strict";"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null===e)throw new TypeError("Cannot convert undefined or null to object");let s,r=Object(e);const n=arguments.length;let i;for(s=1;s<n;s++)if(i=arguments[s],null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o]);return r},writable:!0,configurable:!0});const t={getNums:function(e,t){const s={};return Object.keys(e).forEach((function(r){s[r]="width"===t&&e[r].direct?0:e[r][t]})),s},getBpsOrdered:function(e){const t=this.getNums(e,"width"),s=Object.keys(e);return s.map((function(e){return t[e]})).sort((function(e,t){return e-t})).map((function(e){return s.filter((function(s){return t[s]===e}))[0]}))},haveBreakPoint:function(e){return-1!==e.indexOf("@")},getDirectBp:function(e){const t=Object.keys(e).filter((function(t){return e[t].direct}));return!!t.length&&t[0]},prepareParam:function(e,t){let s,r=e;const n=this.haveBreakPoint(r);if(n){const e=r.split("@");r=e[0],s=e[1]}else{const e=this.getDirectBp(t);if(!e)return this.regError("without 'direct' breakpoint","Don't exists a breakpoint with 'direct' designation.");s=e}return{widthBp:n,numbers:r,breakPoints:s}},stringToNumber:function(e){return"string"==typeof e?parseFloat(e):e},calPercentage:function(e,t){return 100*e/t+"%"},processedNumber:function(e){let t;return-1!==e.indexOf("/")?(t=e.split("/"),t=this.calPercentage(this.stringToNumber(t[0]),this.stringToNumber(t[1]))):t="auto"===e?"auto":-1!==e.indexOf(".")?e+"px":"0"===e?e:e+"px",t},debug:function(e){let t,s=e.print||!1;switch(e.type||"l"){case"l":t="log";break;case"e":t="error",s=!0;break;case"w":t="warn";break;case"i":t="info"}if(s){let s=Object.create(null);s.type=t,e.message&&(s.message=e.message),e.data&&(s.data=e.data),console[t](s)}},regError:function(e,t){const s=new Error;return s.name=e,s.message=t,this.debug({type:"e",message:s})},processors:{cols:{set:"setCols",build:"buildCols",ruleCss:"width"},pad:{set:"setPads",build:"buildPads",ruleCss:"padding"},padt:{set:"setPadTop",build:"buildPadTop",ruleCss:"padding-top"},padr:{set:"setPadRight",build:"buildPadRight",ruleCss:"padding-right"},padb:{set:"setPadBottom",build:"buildPadBottom",ruleCss:"padding-bottom"},padl:{set:"setPadLeft",build:"buildPadLeft",ruleCss:"padding-left"},mar:{set:"setMars",build:"buildMars",ruleCss:"margin"},mart:{set:"setMarTop",build:"buildMarTop",ruleCss:"margin-top"},marr:{set:"setMarRight",build:"buildMarRight",ruleCss:"margin-right"},marb:{set:"setMarBottom",build:"buildMarBottom",ruleCss:"margin-bottom"},marl:{set:"setMarLeft",build:"buildMarLeft",ruleCss:"margin-left"},flex:{set:"setFlex",build:"buildFlex",ruleCss:"display: flex"}},flexpv:{jc:"justify-content",ai:"align-items",ce:"center",fs:"flex-start",fe:"flex-end",sb:"space-between",sa:"space-around",fw:"flex-wrap",nw:"nowrap",w:"wrap",wr:"wrap-reverse",fd:"flex-direction",r:"row",rr:"row-reverse",co:"column",cor:"column-reverse"},createStyles:function(e,t,s){const r=s.sizes,n=s.prefix,i=this.processors[e].ruleCss,o={};let a,d,u,p,c,l,g=!1;return Object.keys(t).forEach((function(s){c=n+e+"-"+t[s].name,c=c.replace(/\//g,"\\/").replace(/:/g,"\\:").replace("@","\\@").split(".").join("_"),l="flex"===e?t[s].value+";display: flex;":i+":"+t[s].value,a="@media screen and ",-1===s.indexOf("-")?r[s]?a+="(min-width: "+r[s]+"px)":(a="."+c+"{"+l+"}",g=!0):(d=s.split("-"),u=d[0],u&&(a+="(min-width: "+r[u]+"px) and "),p=d[1],a+="(max-width: "+(r[p]-1)+"px)"),g||(a+="{."+c+"{"+l+"}}"),g=!1,o[c]=a})),this.debug({type:"i",print:s.debug,message:"Creating / Created Styles: ",data:[t,o]}),o},createScopeStyles:function(e,t,s,r){let n,i=document.getElementById("layouter-"+t);if(!i){switch(i=document.createElement("style"),i.appendChild(document.createTextNode("")),s){case"before":r.parentNode.insertBefore(i,r);break;case"after":const e=r.parentNode;r.nextSibling?e.insertBefore(i,r.nextSibling):e.appendChild(i);break;case"append":r.appendChild(i)}i.id="layouter-"+t}return this.debug({type:"i",print:e.debug,message:"Bridge layouter created and inserted in the DOM",data:i}),n=e.bridge?{method:i.sheet,node:i}:{method:{insertRule:function(e){i.appendChild(document.createTextNode(e))},rules:[]},node:i},n},createScopesStyles:function(e){const t=this.getBpsOrdered(e.breakPoints),s={},r=this;return t.forEach((function(t){s[t]=r.createScopeStyles(e,t,"append",document.body)})),s},getScopeByclassName:function(e,t){const s=t.breakPoints,r=e.indexOf("@");if(-1===r){const e=this.getDirectBp(s);return t.scope[e]}const n=e.substring(r+1);if(-1===n.indexOf("-"))return t.scope[n];const i={bridge:t.bridge,debug:t.debug};if("-"===n.substring(0,1)){if(t.scope.hasOwnProperty(n))return t.scope[n];const e=n.substring(1);return t.scope[n]=this.createScopeStyles(i,n,"before",t.scope[e].node),t.scope[n]}if(t.scope.hasOwnProperty(n))return t.scope[n];const o=n.split("-")[0];return t.scope[n]=this.createScopeStyles(i,n,"after",t.scope[o].node),t.scope[n]},insertRules:function(e,t){const s=this;Object.keys(e).forEach((function(r){if(!t.styles.hasOwnProperty(r)){let n=s.getScopeByclassName(r,t);n.method.insertRule(e[r],n.method.rules?n.method.rules.length:0),t.styles[r]=e[r]}})),this.debug({type:"i",print:t.debug,message:"Inserting Styles: ",data:e})},replaceList:[["/",""],["\\","/"],["/:",":"],["\\:",":"],["\\@","@"],["/@","@"]],addClasses:function(e,t,s){const r=this;e.forEach((function(e){t.classList.contains(e)?r.debug({type:"w",print:s.debug,message:"The class name '"+e+"' already exists in the node and will not be added: ",data:t}):t.classList.add(e)})),this.debug({type:"i",print:s.debug,message:"Adding classes to the Node: ",data:{classesNames:e,node:t}})},nameCleaner:function(e){const t=this,s={};return Object.keys(e).forEach((function(r){let n=r;t.replaceList.forEach((function(e){n=n.split(e[0]).join(e[1])})),s[n]=e[r]})),s},buildCss:function(e){const t=this.createStyles(e.type,e.bps,e.instance);return e.deep&&this.insertRules(t,e.instance),this.nameCleaner(t)},settingCss:function(e){const t=this.buildCss(Object.assign({deep:!0},e));this.addClasses(Object.keys(t),e.node,e.instance)},buildPadsAndMargs:function(e,t,s,r){if(void 0===e)return this.regError("Parameter Missing","Don't exists a value determined");this.debug({type:"i",print:s.debug,message:"Building the 'pads or margs': "+e});const n=this,i={};let o,a,d,u;return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){o=n.prepareParam(e,s.breakPoints),a=o.numbers,u=o.breakPoints,d=a.split("-").map((function(e){return n.processedNumber(e)})).join(" "),i.hasOwnProperty(u)?i[u].value+=";"+d:i[u]={name:e,value:d}})),this.buildCss({type:t,bps:i,instance:s,deep:void 0===r||r})},padsAndMargs:function(e,t,s,r){if(!e)return this.regError("Non-existent Node","Don't exists the Node for processing.");this.debug({type:"i",print:r.debug,message:"Processing the '"+t+"' to the Node:",data:e});const n=s||r.getParameters(e);if(!n.hasOwnProperty(t))return this.regError("Parameter Missing","Don't exists the param '"+t+"' determined");const i=this.buildPadsAndMargs(n[t],t,r);this.addClasses(Object.keys(i),e,r),e.removeAttribute(t)}};function s(e){if(!e.hasOwnProperty("breakPoints"))return t.regError("Configuration Missing","Â¡configuration missing! :V");this.prefix=e.prefix?e.prefix+"-":"";const s=e.breakPoints;this.breakPoints=s,this.sizes=t.getNums(s,"width"),this.cols=t.getNums(s,"cols"),this.scope=t.createScopesStyles(Object.assign({bridge:!0},e)),this.styles={},this.debug=e.debug||!1}"undefined"!=typeof exports&&"undefined"!=typeof module&&module.exports&&(module.exports=t),s.version="1.6.5Beta",s.prototype.set=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Starting the 'set' of the Node:",data:e});const s=this.getParameters(e),r=Object.keys(s),n=this;r.length?r.forEach((function(r){n[t.processors[r].set](e,s)})):t.regError("Parameter Missing","don't exists any parameter to process")},s.prototype.build=function(e){if(!Node)return t.regError("Non-existent Object","Don't exists the object for processing.");t.debug({type:"i",print:this.debug,message:"Starting building the attributes:",data:e});const s={},r=this;let n;return Object.keys(e).forEach((function(i){n=t.processors[i],n&&(s[i]=r[n.build](e[i]))})),!!Object.keys(s).length&&s},s.prototype.getParameters=function(e){const s={},r=e.attributes,n=Object.keys(t.processors);return Array.prototype.forEach.call(r,(function(e){-1!==n.indexOf(e.name)&&""!==e.value&&(s[e.name]=e.value.trim().split(" "))})),t.debug({type:"i",print:this.debug,message:"Getting / Getted parameters of the Node:",data:{parameters:s,node:e}}),s},s.prototype.reset=function(e){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");if(!e.className)return t.debug({type:"i",print:this.debug,message:"The Node passed haven't any CSS class",data:e}),classesList;let s,r;const n=Object.keys(t.processors),i=[],o=e.className.split(" ").filter((function(e){if(e.length<4)return i.push(e),!1;s=e.length>=5?5:4,r=e.substring(0,s);let t=r.split("").indexOf("-");return-1===t?(i.push(e),!1):(r=r.substring(0,t),-1!==n.indexOf(r)||(i.push(e),!1))}));return i.length?e.className=i.join(" "):e.removeAttribute("class"),o},s.prototype.buildCols=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'cols' determined");t.debug({type:"i",print:this.debug,message:"Building the 'cols': "+e});const r=this;let n,i,o,a,d,u={};const p=this.breakPoints;return Array.isArray(e)||(e=e.split(" ")),e.forEach((function(e){o=e,d=t.prepareParam(e,p),i=d.breakPoints,-1!==(e=d.numbers).indexOf("/")?n=e.split("/"):d.widthBp?-1===i.indexOf("-")?n=[e,r.cols[i]]:t.regError("SyntaxError","You can't determine a 'until breakpoint' when use the explicit columns max"):n=[e,r.cols.xs],a=t.calPercentage(n[0],n[1]),u[i]={name:o,value:a}})),t.buildCss({type:"cols",bps:u,instance:this,deep:void 0===s||s})},s.prototype.setCols=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'cols' to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("cols"))return t.regError("Parameter Missing","Don't exists 'cols' determined");const n=this.buildCols(r.cols);t.addClasses(Object.keys(n),e,this),e.removeAttribute("cols")},s.prototype.buildPads=function(e,s){return t.buildPadsAndMargs(e,"pad",this,s)},s.prototype.setPads=function(e,s){t.padsAndMargs(e,"pad",s,this)},s.prototype.buildPadTop=function(e,s){return t.buildPadsAndMargs(e,"padt",this,s)},s.prototype.setPadTop=function(e,s){t.padsAndMargs(e,"padt",s,this)},s.prototype.buildPadRight=function(e,s){return t.buildPadsAndMargs(e,"padr",this,s)},s.prototype.setPadRight=function(e,s){t.padsAndMargs(e,"padr",s,this)},s.prototype.buildPadBottom=function(e,s){return t.buildPadsAndMargs(e,"padb",this,s)},s.prototype.setPadBottom=function(e,s){t.padsAndMargs(e,"padb",s,this)},s.prototype.buildPadLeft=function(e,s){return t.buildPadsAndMargs(e,"padl",this,s)},s.prototype.setPadLeft=function(e,s){t.padsAndMargs(e,"padl",s,this)},s.prototype.buildMars=function(e,s){return t.buildPadsAndMargs(e,"mar",this,s)},s.prototype.setMars=function(e,s){t.padsAndMargs(e,"mar",s,this)},s.prototype.buildMarTop=function(e,s){return t.buildPadsAndMargs(e,"mart",this,s)},s.prototype.setMarTop=function(e,s){t.padsAndMargs(e,"mart",s,this)},s.prototype.buildMarRight=function(e,s){return t.buildPadsAndMargs(e,"marr",this,s)},s.prototype.setMarRight=function(e,s){t.padsAndMargs(e,"marr",s,this)},s.prototype.buildMarBottom=function(e,s){return t.buildPadsAndMargs(e,"marb",this,s)},s.prototype.setMarBottom=function(e,s){t.padsAndMargs(e,"marb",s,this)},s.prototype.buildMarLeft=function(e,s){return t.buildPadsAndMargs(e,"marl",this,s)},s.prototype.setMarLeft=function(e,s){t.padsAndMargs(e,"marl",s,this)},s.prototype.buildFlex=function(e,s){if(void 0===e)return t.regError("Parameter Missing","Don't exists 'flex' determined");t.debug({type:"i",print:this.debug,message:"Building the 'flex': "+e});let r,n,i,o,a,d,u,p={};Array.isArray(e)||(e=e.split(" "));const c=this.breakPoints;return e.forEach((function(e){return n=e,i=t.prepareParam(e,c),r=i.breakPoints,e=i.numbers,o=e.split(":"),d=o[0],t.flexpv.hasOwnProperty(d)?(u=o[1],t.flexpv.hasOwnProperty(u)?(a=t.flexpv[d]+":"+t.flexpv[o[1]],void(p.hasOwnProperty(r)?(1!==n.indexOf("@")&&(n=n.split("@")[0]),p[r].name=p[r].name.split("@")[0]+"-"+n+"@"+r,p[r].value+=";"+a):p[r]={name:n,value:a})):t.regError("Non-existent Alias","Don't exists the alias '"+u+"' in Flex vault.")):t.regError("Non-existent Alias","Don't exists the alias '"+d+"' in Flex vault.")})),t.buildCss({type:"flex",bps:p,instance:this,deep:void 0===s||s})},s.prototype.setFlex=function(e,s){if(!e)return t.regError("Non-existent Node","Don't exists the Node for processing.");t.debug({type:"i",print:this.debug,message:"Processing the 'flex' parameter to the Node:",data:e});const r=s||this.getParameters(e);if(!r.hasOwnProperty("flex"))return t.regError("Parameter Missing","Don't exists 'flex' determinated.");const n=this.buildFlex(r.flex);t.addClasses(Object.keys(n),e,this),e.removeAttribute("flex")},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=s),exports.Layouter=s):e.Layouter=s}(this);
//# sourceMappingURL=layouter.min.js.map
